<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Password_Generator</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>Password_Generator</h1>
      <div class="subtitle">Password Generator & Security Checker</div>
    </header>

    <div class="tabs">
      <button class="tab-btn active" data-tab="generate">🔐 Generate</button>
      <button class="tab-btn" data-tab="analyze">🔎 Analyze</button>
      <button class="tab-btn" data-tab="passwords">📂 Saved</button>
      <button class="tab-btn" data-tab="options">⚙️ Options</button>
    </div>

    <!-- Generate Password Tab -->
    <div id="generate" class="tab-content active">
      <div class="password-display">
        <input type="text" id="generated-password" readonly>
        <button id="copy-password" title="Copy to clipboard">📋</button>
        <button id="refresh-password" title="Generate new password">🔄</button>
      </div>

      <div class="options-group">
        <label>Password Length: <span id="length-value">16</span></label>
        <input type="range" id="password-length" min="8" max="64" value="16">
        
        <div class="checkbox-options">
          <label><input type="checkbox" id="use-lowercase" checked> a-z</label>
          <label><input type="checkbox" id="use-uppercase" checked> A-Z</label>
          <label><input type="checkbox" id="use-digits" checked> 0-9</label>
          <label><input type="checkbox" id="use-special" checked> !@#$%</label>
        </div>
      </div>

      <div class="strength-meter">
        <div class="strength-bar">
          <div id="strength-indicator" class="strength-indicator"></div>
        </div>
        <div id="strength-text">Password Strength</div>
      </div>

      <button id="check-hibp" class="action-button">🔍 Check Have I Been Pwned</button>
      <div id="hibp-result" class="result-panel hidden"></div>
      <button id="save-password" class="action-button">💾 Save Password</button>
    </div>

    

    <!-- Saved Passwords Tab -->
    <div id="passwords" class="tab-content">
      <h2>🔒 Saved Passwords</h2>
      <div id="password-list" class="password-list">
        <div class="no-passwords-message">No saved passwords yet</div>
      </div>
    </div>
    
    <!-- Analyze Password Tab -->
    <div id="analyze" class="tab-content">
      <div class="password-input">
        <input type="password" id="password-to-check" placeholder="Enter password">
        <button id="toggle-visibility" title="Toggle visibility">👁️</button>
      </div>
      
      <button id="analyze-password" class="action-button">🛡 Analyze Password</button>
      
      <div id="analysis-result" class="result-panel hidden">
        <div class="strength-meter">
          <div class="strength-bar">
            <div id="analysis-strength-indicator" class="strength-indicator"></div>
          </div>
          <div id="analysis-strength-text">Password Strength</div>
        </div>
        <div id="analysis-details"></div>
        <div id="analysis-feedback"></div>
      </div>

      <button id="check-hibp-existing" class="action-button">🔍 Check Have I Been Pwned</button>
      <div id="hibp-result-existing" class="result-panel hidden"></div>
    </div>

    <!-- Options Tab -->
    <div id="options" class="tab-content">
      <h2>⚙️ Advanced Options</h2>

      <div class="option-group">
        <label>Hashing Algorithm</label>
        <select id="hash-algorithm">
          <option value="pbkdf2">PBKDF2 (Recommended)</option>
          <option value="bcrypt" disabled>bcrypt (Not available in browser)</option>
        </select>
      </div>

      <div class="option-group">
        <label>PBKDF2 Iterations</label>
        <input type="number" id="pbkdf2-iterations" value="100000" min="10000">
        <span class="hint">Higher = More security (min 10,000)</span>
      </div>

      <div class="option-group">
        <label>
          <input type="checkbox" id="auto-check-hibp" checked>
          Auto-check passwords with HIBP
        </label>
      </div>

      <div class="option-group">
        <label>
          <input type="checkbox" id="offer-generation" checked>
          Offer to generate passwords on websites
        </label>
      </div>

      <div class="option-group">
        <label>
          <input type="checkbox" id="clear-clipboard">
          Clear clipboard after 
          <select id="clear-clipboard-time">
            <option value="30">30 sec</option>
            <option value="60">1 min</option>
            <option value="300">5 min</option>
          </select>
        </label>
      </div>

      <button id="save-options" class="action-button">💾 Save Settings</button>
    </div>

    <footer>
      <div class="version">Password_Generator v1.1.0</div>
    </footer>
  </div>

  <script src="utils.js"></script>
  <script src="popup.js"></script>
</body>
</html>

